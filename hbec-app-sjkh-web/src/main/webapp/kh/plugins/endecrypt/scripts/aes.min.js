define(function(d,c,e){var b=b||function(z,y){var x={},w=x.lib={},v=function(){},u=w.Base={extend:function(g){v.prototype=this;var f=new v;return g&&f.mixIn(g),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var f=this.extend();return f.init.apply(f,arguments),f},init:function(){},mixIn:function(g){for(var f in g){g.hasOwnProperty(f)&&(this[f]=g[f])}g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}},t=w.WordArray=u.extend({init:function(f,g){f=this.words=f||[],this.sigBytes=g!=y?g:4*f.length},toString:function(f){return(f||r).stringify(this)},concat:function(g){var f=this.words,j=g.words,i=this.sigBytes;if(g=g.sigBytes,this.clamp(),i%4){for(var h=0;g>h;h++){f[i+h>>>2]|=(j[h>>>2]>>>24-8*(h%4)&255)<<24-8*((i+h)%4)}}else{if(65535<j.length){for(h=0;g>h;h+=4){f[i+h>>>2]=j[h>>>2]}}else{f.push.apply(f,j)}}return this.sigBytes+=g,this},clamp:function(){var a=this.words,f=this.sigBytes;a[f>>>2]&=4294967295<<32-8*(f%4),a.length=z.ceil(f/4)},clone:function(){var f=u.clone.call(this);return f.words=this.words.slice(0),f},random:function(a){for(var g=[],f=0;a>f;f+=4){g.push(4294967296*z.random()|0)}return new t.init(g,a)}}),s=x.enc={},r=s.Hex={stringify:function(g){var f=g.words;g=g.sigBytes;for(var j=[],i=0;g>i;i++){var h=f[i>>>2]>>>24-8*(i%4)&255;j.push((h>>>4).toString(16)),j.push((15&h).toString(16))}return j.join("")},parse:function(g){for(var f=g.length,i=[],h=0;f>h;h+=2){i[h>>>3]|=parseInt(g.substr(h,2),16)<<24-4*(h%8)}return new t.init(i,f/2)}},q=s.Latin1={stringify:function(g){var f=g.words;g=g.sigBytes;for(var i=[],h=0;g>h;h++){i.push(String.fromCharCode(f[h>>>2]>>>24-8*(h%4)&255))}return i.join("")},parse:function(g){for(var f=g.length,i=[],h=0;f>h;h++){i[h>>>2]|=(255&g.charCodeAt(h))<<24-8*(h%4)}return new t.init(i,f)}},p=s.Utf8={stringify:function(g){try{return decodeURIComponent(escape(q.stringify(g)))}catch(f){throw Error("Malformed UTF-8 data")}},parse:function(f){return q.parse(unescape(encodeURIComponent(f)))}},o=w.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new t.init,this._nDataBytes=0},_append:function(f){"string"==typeof f&&(f=p.parse(f)),this._data.concat(f),this._nDataBytes+=f.sigBytes},_process:function(a){var A=this._data,m=A.words,l=A.sigBytes,k=this.blockSize,j=l/(4*k),j=a?z.ceil(j):z.max((0|j)-this._minBufferSize,0);if(a=j*k,l=z.min(4*a,l),a){for(var g=0;a>g;g+=k){this._doProcessBlock(m,g)}g=m.splice(0,a),A.sigBytes-=l}return new t.init(g,l)},clone:function(){var f=u.clone.call(this);return f._data=this._data.clone(),f},_minBufferSize:0});w.Hasher=o.extend({cfg:u.extend(),init:function(f){this.cfg=this.cfg.extend(f),this.reset()},reset:function(){o.reset.call(this),this._doReset()},update:function(f){return this._append(f),this._process(),this},finalize:function(f){return f&&this._append(f),this._doFinalize()},blockSize:16,_createHelper:function(f){return function(a,g){return new f.init(g).finalize(a)}},_createHmacHelper:function(f){return function(a,g){return new n.HMAC.init(f,g).finalize(a)}}});var n=x.algo={};return x}(Math);!function(){var a=b,f=a.lib.WordArray;a.enc.Base64={stringify:function(i){var h=i.words,n=i.sigBytes,m=this._map;i.clamp(),i=[];for(var l=0;n>l;l+=3){for(var k=(h[l>>>2]>>>24-8*(l%4)&255)<<16|(h[l+1>>>2]>>>24-8*((l+1)%4)&255)<<8|h[l+2>>>2]>>>24-8*((l+2)%4)&255,j=0;4>j&&n>l+0.75*j;j++){i.push(m.charAt(k>>>6*(3-j)&63))}}if(h=m.charAt(64)){for(;i.length%4;){i.push(h)}}return i.join("")},parse:function(k){var j=k.length,q=this._map,p=q.charAt(64);p&&(p=k.indexOf(p),-1!=p&&(j=p));for(var p=[],o=0,n=0;j>n;n++){if(n%4){var m=q.indexOf(k.charAt(n-1))<<2*(n%4),l=q.indexOf(k.charAt(n))>>>6-2*(n%4);p[o>>>2]|=(m|l)<<24-8*(o%4),o++}}return f.create(p,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(v){function u(i,h,x,w,l,k,j){return i=i+(h&x|~h&w)+l+j,(i<<k|i>>>32-k)+h}function t(i,h,x,w,l,k,j){return i=i+(h&w|x&~w)+l+j,(i<<k|i>>>32-k)+h}function s(i,h,x,w,l,k,j){return i=i+(h^x^w)+l+j,(i<<k|i>>>32-k)+h}function r(i,h,x,w,l,k,j){return i=i+(x^(h|~w))+l+j,(i<<k|i>>>32-k)+h}for(var q=b,p=q.lib,o=p.WordArray,n=p.Hasher,p=q.algo,m=[],a=0;64>a;a++){m[a]=4294967296*v.abs(v.sin(a+1))|0}p=p.MD5=n.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(W,V){for(var U=0;16>U;U++){var T=V+U,S=W[T];W[T]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8)}var U=this._hash.words,T=W[V+0],S=W[V+1],R=W[V+2],Q=W[V+3],P=W[V+4],O=W[V+5],N=W[V+6],M=W[V+7],K=W[V+8],I=W[V+9],H=W[V+10],G=W[V+11],F=W[V+12],E=W[V+13],D=W[V+14],C=W[V+15],k=U[0],f=U[1],L=U[2],J=U[3],k=u(k,f,L,J,T,7,m[0]),J=u(J,k,f,L,S,12,m[1]),L=u(L,J,k,f,R,17,m[2]),f=u(f,L,J,k,Q,22,m[3]),k=u(k,f,L,J,P,7,m[4]),J=u(J,k,f,L,O,12,m[5]),L=u(L,J,k,f,N,17,m[6]),f=u(f,L,J,k,M,22,m[7]),k=u(k,f,L,J,K,7,m[8]),J=u(J,k,f,L,I,12,m[9]),L=u(L,J,k,f,H,17,m[10]),f=u(f,L,J,k,G,22,m[11]),k=u(k,f,L,J,F,7,m[12]),J=u(J,k,f,L,E,12,m[13]),L=u(L,J,k,f,D,17,m[14]),f=u(f,L,J,k,C,22,m[15]),k=t(k,f,L,J,S,5,m[16]),J=t(J,k,f,L,N,9,m[17]),L=t(L,J,k,f,G,14,m[18]),f=t(f,L,J,k,T,20,m[19]),k=t(k,f,L,J,O,5,m[20]),J=t(J,k,f,L,H,9,m[21]),L=t(L,J,k,f,C,14,m[22]),f=t(f,L,J,k,P,20,m[23]),k=t(k,f,L,J,I,5,m[24]),J=t(J,k,f,L,D,9,m[25]),L=t(L,J,k,f,Q,14,m[26]),f=t(f,L,J,k,K,20,m[27]),k=t(k,f,L,J,E,5,m[28]),J=t(J,k,f,L,R,9,m[29]),L=t(L,J,k,f,M,14,m[30]),f=t(f,L,J,k,F,20,m[31]),k=s(k,f,L,J,O,4,m[32]),J=s(J,k,f,L,K,11,m[33]),L=s(L,J,k,f,G,16,m[34]),f=s(f,L,J,k,D,23,m[35]),k=s(k,f,L,J,S,4,m[36]),J=s(J,k,f,L,P,11,m[37]),L=s(L,J,k,f,M,16,m[38]),f=s(f,L,J,k,H,23,m[39]),k=s(k,f,L,J,E,4,m[40]),J=s(J,k,f,L,T,11,m[41]),L=s(L,J,k,f,Q,16,m[42]),f=s(f,L,J,k,N,23,m[43]),k=s(k,f,L,J,I,4,m[44]),J=s(J,k,f,L,F,11,m[45]),L=s(L,J,k,f,C,16,m[46]),f=s(f,L,J,k,R,23,m[47]),k=r(k,f,L,J,T,6,m[48]),J=r(J,k,f,L,M,10,m[49]),L=r(L,J,k,f,D,15,m[50]),f=r(f,L,J,k,O,21,m[51]),k=r(k,f,L,J,F,6,m[52]),J=r(J,k,f,L,Q,10,m[53]),L=r(L,J,k,f,H,15,m[54]),f=r(f,L,J,k,S,21,m[55]),k=r(k,f,L,J,K,6,m[56]),J=r(J,k,f,L,C,10,m[57]),L=r(L,J,k,f,N,15,m[58]),f=r(f,L,J,k,E,21,m[59]),k=r(k,f,L,J,P,6,m[60]),J=r(J,k,f,L,G,10,m[61]),L=r(L,J,k,f,R,15,m[62]),f=r(f,L,J,k,I,21,m[63]);U[0]=U[0]+k|0,U[1]=U[1]+f|0,U[2]=U[2]+L|0,U[3]=U[3]+J|0},_doFinalize:function(){var g=this._data,k=g.words,j=8*this._nDataBytes,i=8*g.sigBytes;k[i>>>5]|=128<<24-i%32;var h=v.floor(j/4294967296);for(k[(i+64>>>9<<4)+15]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),k[(i+64>>>9<<4)+14]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),g.sigBytes=4*(k.length+1),this._process(),g=this._hash,k=g.words,j=0;4>j;j++){i=k[j],k[j]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}return g},clone:function(){var f=n.clone.call(this);return f._hash=this._hash.clone(),f}}),q.MD5=n._createHelper(p),q.HmacMD5=n._createHmacHelper(p)}(Math),function(){var a=b,j=a.lib,i=j.Base,h=j.WordArray,j=a.algo,g=j.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:j.MD5,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(s,r){for(var q=this.cfg,p=q.hasher.create(),o=h.create(),n=o.words,m=q.keySize,q=q.iterations;n.length<m;){l&&p.update(l);var l=p.update(s).finalize(r);p.reset();for(var k=1;q>k;k++){l=p.finalize(l),p.reset()}o.concat(l)}return o.sigBytes=4*m,o}});a.EvpKDF=function(k,f,l){return g.create(l).compute(k,f)}}(),b.lib.Cipher||function(D){var C=b,B=C.lib,A=B.Base,z=B.WordArray,y=B.BufferedBlockAlgorithm,x=C.enc.Base64,w=C.algo.EvpKDF,v=B.Cipher=y.extend({cfg:A.extend(),createEncryptor:function(g,f){return this.create(this._ENC_XFORM_MODE,g,f)},createDecryptor:function(g,f){return this.create(this._DEC_XFORM_MODE,g,f)},init:function(g,f,h){this.cfg=this.cfg.extend(h),this._xformMode=g,this._key=f,this.reset()},reset:function(){y.reset.call(this),this._doReset()},process:function(f){return this._append(f),this._process()},finalize:function(f){return f&&this._append(f),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(f){return{encrypt:function(g,i,h){return("string"==typeof i?a:q).encrypt(f,g,i,h)},decrypt:function(g,i,h){return("string"==typeof i?a:q).decrypt(f,g,i,h)}}}});B.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=C.mode={},t=function(g,k,j){var i=this._iv;i?this._iv=D:i=this._prevBlock;for(var h=0;j>h;h++){g[k+h]^=i[h]}},s=(B.BlockCipherMode=A.extend({createEncryptor:function(g,f){return this.Encryptor.create(g,f)},createDecryptor:function(g,f){return this.Decryptor.create(g,f)},init:function(g,f){this._cipher=g,this._iv=f}})).extend();s.Encryptor=s.extend({processBlock:function(g,f){var i=this._cipher,h=i.blockSize;t.call(this,g,f,h),i.encryptBlock(g,f),this._prevBlock=g.slice(f,f+h)}}),s.Decryptor=s.extend({processBlock:function(g,f){var j=this._cipher,i=j.blockSize,h=g.slice(f,f+i);j.decryptBlock(g,f),t.call(this,g,f,i),this._prevBlock=h}}),u=u.CBC=s,s=(C.pad={}).Pkcs7={pad:function(h,f){for(var l=4*f,l=l-h.sigBytes%l,k=l<<24|l<<16|l<<8|l,j=[],i=0;l>i;i+=4){j.push(k)}l=z.create(j,l),h.concat(l)},unpad:function(f){f.sigBytes-=255&f.words[f.sigBytes-1>>>2]}},B.BlockCipher=v.extend({cfg:v.cfg.extend({mode:u,padding:s}),reset:function(){v.reset.call(this);var g=this.cfg,f=g.iv,g=g.mode;if(this._xformMode==this._ENC_XFORM_MODE){var h=g.createEncryptor}else{h=g.createDecryptor,this._minBufferSize=1}this._mode=h.call(g,this,f&&f.words)},_doProcessBlock:function(g,f){this._mode.processBlock(g,f)},_doFinalize:function(){var g=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){g.pad(this._data,this.blockSize);var f=this._process(!0)}else{f=this._process(!0),g.unpad(f)}return f},blockSize:4});var r=B.CipherParams=A.extend({init:function(f){this.mixIn(f)},toString:function(f){return(f||this.formatter).stringify(this)}}),u=(C.format={}).OpenSSL={stringify:function(g){var f=g.ciphertext;return g=g.salt,(g?z.create([1398893684,1701076831]).concat(g).concat(f):f).toString(x)},parse:function(g){g=x.parse(g);var f=g.words;if(1398893684==f[0]&&1701076831==f[1]){var h=z.create(f.slice(2,4));f.splice(0,4),g.sigBytes-=16}return r.create({ciphertext:g,salt:h})}},q=B.SerializableCipher=A.extend({cfg:A.extend({format:u}),encrypt:function(g,f,j,i){i=this.cfg.extend(i);var h=g.createEncryptor(j,i);return f=h.finalize(f),h=h.cfg,r.create({ciphertext:f,key:j,iv:h.iv,algorithm:g,mode:h.mode,padding:h.padding,blockSize:g.blockSize,formatter:i.format})},decrypt:function(g,f,i,h){return h=this.cfg.extend(h),f=this._parse(f,h.format),g.createDecryptor(i,h).finalize(f.ciphertext)},_parse:function(g,f){return"string"==typeof g?f.parse(g,this):g}}),C=(C.kdf={}).OpenSSL={execute:function(g,f,i,h){return h||(h=z.random(8)),g=w.create({keySize:f+i}).compute(g,h),i=z.create(g.words.slice(f),4*i),g.sigBytes=4*f,r.create({key:g,iv:i,salt:h})}},a=B.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:C}),encrypt:function(g,f,i,h){return h=this.cfg.extend(h),i=h.kdf.execute(i,g.keySize,g.ivSize),h.iv=i.iv,g=q.encrypt.call(this,g,f,i.key,h),g.mixIn(i),g},decrypt:function(g,f,i,h){return h=this.cfg.extend(h),f=this._parse(f,h.format),i=h.kdf.execute(i,g.keySize,g.ivSize,f.salt),h.iv=i.iv,q.decrypt.call(this,g,f,i.key,h)}})}(),function(){for(var T=b,S=T.lib.BlockCipher,R=T.algo,Q=[],P=[],O=[],N=[],M=[],L=[],K=[],J=[],I=[],H=[],G=[],F=0;256>F;F++){G[F]=128>F?F<<1:F<<1^283}for(var E=0,D=0,F=0;256>F;F++){var C=D^D<<1^D<<2^D<<3^D<<4,C=C>>>8^255&C^99;Q[E]=C,P[C]=E;var B=G[E],A=G[B],z=G[A],y=257*G[C]^16843008*C;O[E]=y<<24|y>>>8,N[E]=y<<16|y>>>16,M[E]=y<<8|y>>>24,L[E]=y,y=16843009*z^65537*A^257*B^16843008*E,K[C]=y<<24|y>>>8,J[C]=y<<16|y>>>16,I[C]=y<<8|y>>>24,H[C]=y,E?(E=B^G[G[G[z^B]]],D^=G[G[D]]):E=D=1}var a=[0,1,2,4,8,16,32,64,128,27,54],R=R.AES=S.extend({_doReset:function(){for(var i=this._key,h=i.words,m=i.sigBytes/4,i=4*((this._nRounds=m+6)+1),l=this._keySchedule=[],k=0;i>k;k++){if(m>k){l[k]=h[k]}else{var j=l[k-1];k%m?m>6&&4==k%m&&(j=Q[j>>>24]<<24|Q[j>>>16&255]<<16|Q[j>>>8&255]<<8|Q[255&j]):(j=j<<8|j>>>24,j=Q[j>>>24]<<24|Q[j>>>16&255]<<16|Q[j>>>8&255]<<8|Q[255&j],j^=a[k/m|0]<<24),l[k]=l[k-m]^j}}for(h=this._invKeySchedule=[],m=0;i>m;m++){k=i-m,j=m%4?l[k]:l[k-4],h[m]=4>m||4>=k?j:K[Q[j>>>24]]^J[Q[j>>>16&255]]^I[Q[j>>>8&255]]^H[Q[255&j]]}},encryptBlock:function(g,f){this._doCryptBlock(g,f,this._keySchedule,O,N,M,L,Q)},decryptBlock:function(g,f){var h=g[f+1];g[f+1]=g[f+3],g[f+3]=h,this._doCryptBlock(g,f,this._invKeySchedule,K,J,I,H,P),h=g[f+1],g[f+1]=g[f+3],g[f+3]=h},_doCryptBlock:function(af,ae,ad,ac,ab,aa,Z,Y){for(var X=this._nRounds,W=af[ae]^ad[0],V=af[ae+1]^ad[1],U=af[ae+2]^ad[2],x=af[ae+3]^ad[3],w=4,v=1;X>v;v++){var u=ac[W>>>24]^ab[V>>>16&255]^aa[U>>>8&255]^Z[255&x]^ad[w++],t=ac[V>>>24]^ab[U>>>16&255]^aa[x>>>8&255]^Z[255&W]^ad[w++],s=ac[U>>>24]^ab[x>>>16&255]^aa[W>>>8&255]^Z[255&V]^ad[w++],x=ac[x>>>24]^ab[W>>>16&255]^aa[V>>>8&255]^Z[255&U]^ad[w++],W=u,V=t,U=s}u=(Y[W>>>24]<<24|Y[V>>>16&255]<<16|Y[U>>>8&255]<<8|Y[255&x])^ad[w++],t=(Y[V>>>24]<<24|Y[U>>>16&255]<<16|Y[x>>>8&255]<<8|Y[255&W])^ad[w++],s=(Y[U>>>24]<<24|Y[x>>>16&255]<<16|Y[W>>>8&255]<<8|Y[255&V])^ad[w++],x=(Y[x>>>24]<<24|Y[W>>>16&255]<<16|Y[V>>>8&255]<<8|Y[255&U])^ad[w++],af[ae]=u,af[ae+1]=t,af[ae+2]=s,af[ae+3]=x},keySize:8});T.AES=S._createHelper(R)}(),e.exports=b});